% Identification

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{myMakros}[2020/02/21]

\RequirePackage{script}
\RequirePackage{listings} 
\RequirePackage{lstcoq}

%--------------------------------------------------------------------
% additional mathematica symbols
%--------------------------------------------------------------------

% modulo-operator 
\newcommand{\Mod}[1] {\ (\mathrm {mod} \ #1)} 

%---------------------------------------------------------------------
% sourcecode-listings: automatic formatation
%---------------------------------------------------------------------

% C-listings
\newcommand{\includeccode}[2][c]{\lstinputlisting[language=C, caption=#2, escapechar=]{#2}}

\newcommand{\includeccodeMod}[3][c]{\lstinputlisting[language=C, caption={#2, Source: \cite{#3}, modified.}, escapechar=]{#2}}

\newcommand{\includeccodeSource}[3][c]{\lstinputlisting[language=C, caption={#2, Source: \cite{#3}}, escapechar=]{#2}}

% example usage:
%\includeccode{sched.c}
%\includeccode[asm]{sched.c}
%\includeccodeMod{sched.c}{PROSA_schedubility_analysis}
%\includeccodeSource{sched.c}{PROSA_schedubility_analysis}


% Coq-listings
\newcommand{\includecoqcode}[2][v]{\lstinputlisting[caption= {\lstinline!#2!}, label = lst:#2 , escapechar=]{#2}}

\newcommand{\includecoqcodeMod}[3][v]{\lstinputlisting[caption={\lstinline!#2!, Source: \cite{#3}, modified.}, escapechar=]{#2}}

\newcommand{\includecoqcodeSource}[3][c]{\lstinputlisting[caption={\lstinline!#2!, Source: \cite{#3}}, escapechar=]{#2}}

% bash-like listings
\newcommand{\includebashcode}[2][v]{\lstinputlisting[language=bash, caption = \lstinline!#2!, label = lst#2, escapechar=]{#2}}

\newcommand{\includebashcodeMod}[3][v]{\lstinputlisting[language=bash, caption={\lstinline!#2!, Source: \cite{#3}, modified.}]{#2}}


\newcommand{\includebashcodeSource}[2][v]{\lstinputlisting[language=bash, caption={\lstinline!#1!, Source: \cite{#2}.}, label = lst#2] {#1}}

%----------------------------------------------------------------------

% Makro ex_lstlisting
% #1 : example's caption
% #2 : lstlisting's caption 
% #3 : lstlisting's label
% #4 : lstlisting's source code
% #5 : example's text



%
%\newcommand{\ex_lstlisting}[5]{%
%\begin{example}[#1] ~\\\vspace{-5mm}%
%{\normaltext 
%\begin{lstlisting}[caption=#2,label=#3]
%{#4}
%\end{lstlisting}
%{#5}
%\end{example}
%}%  end normal text
%}% end newcommand

% Makro ex_lstlisting1
% #1 : example's caption
% #2 : lstlisting's source code
% #3 : example's text



%\newcommand{\ex_lstlisting1}[3]{%
%\begin{example}[#1] ~\\\vspace{-5mm}%
%{\normaltext 
%\begin{lstlisting}
%#2
%\end{lstlisting}
%}%  end normal text
%{#3}
%\end{example}
%}% end newcommand